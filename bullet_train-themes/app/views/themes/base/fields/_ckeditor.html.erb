<%
# ⚠️ CKEditor 5 is distributed under a GPL 2+ copyleft license.
# You need a commercial license to utilize it in closed-source SaaS products.
# See https://ckeditor.com/pricing/ for more details.
%>

<%
stimulus_controller = 'fields--ckeditor'

form ||= current_fields_form
options ||= {}
other_options ||= {}

options = options.merge({ data: {"#{stimulus_controller}-target": 'field' }})
%>

<%# We don't have to pass `options` here because we're already sending it below to form.text_area. %>
<%= render 'shared/fields/field', form: form, method: method, other_options: other_options do %>
  <% content_for :field do %>
    <div data-controller="<%= stimulus_controller %>">
      <%= form.text_area method, options %>
    </div>
  <% end %>
<% end %>
